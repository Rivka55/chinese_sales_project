<div class="report-page">
  <div class="page-header">
    <h2>ğŸ“Š ×“×•×— ×¨×›×™×©×•×ª ××¨×•×›×–</h2>
  </div>

  @if (reports.length === 0) {
    <div class="empty-state">××™×Ÿ ×¢×“×™×™×Ÿ ×¨×›×™×©×•×ª ×‘××¢×¨×›×ª.</div>
  }

  @for (user of reports; track user.name) {
  <div class="purchaser-card">
    <div class="purchaser-header">
      <div class="purchaser-info">
        <h3>ğŸ‘¤ {{ user.name }}</h3>
        <p>ğŸ“§ {{ user.email }} &nbsp;Â·&nbsp; ğŸ“± {{ user.phone }}</p>
      </div>
      <div class="purchaser-stats">
        <div class="stat">
          <span class="stat-value">{{ user.totalTicketsPurchased }}</span>
          <span class="stat-label">×›×¨×˜×™×¡×™×</span>
        </div>
        <div class="stat">
          <span class="stat-value">{{ user.grandTotalSpent }} â‚ª</span>
          <span class="stat-label">×¡×”"×›</span>
        </div>
      </div>
    </div>

    <table class="history-table">
      <thead>
        <tr>
          <th>××ª× ×”</th>
          <th>×›××•×ª</th>
          <th>××—×™×¨ ×œ×™×—×™×“×”</th>
          <th>×¡×”"×›</th>
          <th>×ª××¨×™×š</th>
        </tr>
      </thead>
      <tbody>
        @for (history of user.purchaseHistory; track history.giftName) {
        <tr>
          <td><strong>{{ history.giftName }}</strong></td>
          <td>{{ history.quantity }}</td>
          <td>{{ history.pricePerUnit }} â‚ª</td>
          <td class="price-cell">{{ history.totalPrice }} â‚ª</td>
          <td>{{ history.purchaseDate | date:'dd/MM/yyyy HH:mm' }}</td>
        </tr>
        }
      </tbody>
    </table>
  </div>
  }
</div>

