@if (gift) {
<div class="gift-details-card">
  <div class="gift-header">
    @if (gift.picture) {
      <img [src]="'images/' + gift.picture" [alt]="gift.name" class="gift-image" />
    } @else {
      <div class="no-image">ğŸ</div>
    }
    <div class="gift-title-section">
      <h2>{{ gift.name }}</h2>
      <p class="gift-category">×§×˜×’×•×¨×™×”: {{ gift.categoryName }}</p>
    </div>
  </div>

  <div class="gift-body">
    <p class="gift-description">{{ gift.description }}</p>

    <div class="gift-info-row">
      <span>ğŸ’° ××—×™×¨ ×›×¨×˜×™×¡:</span>
      <strong>{{ gift.price }} â‚ª</strong>
    </div>

    <div class="gift-info-row">
      <span>ğŸ¤ ×ª×•×¨×:</span>
      <strong>{{ gift.donorName }}</strong>
    </div>

    @if (gift.winnerName) {
      <div class="gift-info-row winner">
        <span>ğŸ† ×–×•×›×”:</span>
        <strong>{{ gift.winnerName }}</strong>
      </div>
    }

    @if (!gift.winnerName) {
      @if (authService.isLoggedIn()) {
        <div class="add-to-cart-section">
          <div class="qty-controls">
            <button (click)="changeQty(-1)" [disabled]="quantity <= 1">-</button>
            <span class="qty-display">{{ quantity }}</span>
            <button (click)="changeQty(1)" [disabled]="quantity >= 100">+</button>
          </div>
          <button class="btn-add-cart" (click)="addToCart()">ğŸ›’ ×”×•×¡×£ ×œ×¡×œ</button>
        </div>
        @if (message) {
          <p class="cart-message">{{ message }}</p>
        }
      } @else {
        <div class="add-to-cart-section">
          <button class="btn-add-cart btn-login-first" (click)="goToLogin()">ğŸ”‘ ×”×ª×—×‘×¨ ×›×“×™ ×œ×§× ×•×ª</button>
        </div>
      }
    }
  </div>

  <a routerLink="/gifts" class="back-link">â† ×—×–×¨×” ×œ×¨×©×™××ª ×”××ª× ×•×ª</a>
</div>
} @else {
  <div class="loading">×˜×•×¢×Ÿ ×¤×¨×˜×™ ××ª× ×”...</div>
}
